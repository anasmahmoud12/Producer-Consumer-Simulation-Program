<div class="statistics-panel">
  <div class="panel-header">
    <h3>ðŸ“Š Real-Time Statistics</h3>
    <button class="btn-close" (click)="onClose()">Ã—</button>
  </div>
  
  <div class="panel-content" *ngIf="statistics">
    <!-- Key Metrics -->
    <div class="metrics-grid">
      <div class="metric-card">
        <div class="metric-label">Products Processed</div>
        <div class="metric-value success">{{ statistics.totalProductsProcessed }}</div>
      </div>
      
      <div class="metric-card">
        <div class="metric-label">Avg Wait Time</div>
        <div class="metric-value warning">{{ formatTime(statistics.averageWaitTime) }}</div>
      </div>
      
      <div class="metric-card">
        <div class="metric-label">Throughput</div>
        <div class="metric-value info">{{ statistics.throughput.toFixed(2) }}/s</div>
      </div>
      
      <div class="metric-card">
        <div class="metric-label">Products in System</div>
        <div class="metric-value">{{ statistics.totalProductsInSystem }}</div>
      </div>
    </div>
    
    <!-- Machine Utilization -->
    <div class="chart-section">
      <h4>Machine Utilization</h4>
      <div class="utilization-list">
        <div 
          *ngFor="let item of getMachineUtilizationArray()" 
          class="utilization-item">
          <span class="machine-id">{{ item.id }}</span>
          <div class="progress-bar">
            <div 
              class="progress-fill"
              [style.width.%]="item.utilization">
            </div>
          </div>
          <span class="utilization-value">{{ item.utilization.toFixed(0) }}%</span>
        </div>
      </div>
    </div>
    
    <!-- Processed Count by Machine -->
    <div class="chart-section">
      <h4>Products Processed by Machine</h4>
      <div class="processed-list">
        <div 
          *ngFor="let item of getProcessedCountArray()" 
          class="processed-item">
          <span class="machine-id">{{ item.id }}</span>
          <div class="processed-bar">
            <div class="processed-count-badge">{{ item.count }}</div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Summary Info -->
    <div class="info-box">
      <h5>ðŸ’¡ Statistics Info:</h5>
      <ul>
        <li><strong>Throughput:</strong> Products per second</li>
        <li><strong>Utilization:</strong> % of time machine is busy</li>
        <li><strong>Wait Time:</strong> Average time in queues</li>
      </ul>
    </div>
  </div>
  
  <div class="panel-content" *ngIf="!statistics">
    <div class="no-data">
      <p>ðŸ”„ No statistics available yet</p>
      <p class="hint">Start the simulation to see real-time data</p>
    </div>
  </div>
</div>